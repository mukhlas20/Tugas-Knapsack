def knapsack_01(W, weights, values, n):
    # Inisialisasi tabel DP
    dp = [[0 for _ in range(W + 1)] for _ in range(n + 1)]
    
    # Membangun tabel DP bottom-up
    for i in range(1, n + 1):
        for w in range(1, W + 1):
            if weights[i-1] <= w:
                dp[i][w] = max(values[i-1] + dp[i-1][w-weights[i-1]], dp[i-1][w])
            else:
                dp[i][w] = dp[i-1][w]
    
    # Backtracking untuk menemukan barang yang diambil
    w = W
    items_taken = []
    total_weight = 0
    total_value = dp[n][W]
    
    for i in range(n, 0, -1):
        if dp[i][w] != dp[i-1][w]:
            items_taken.append(i-1)
            w -= weights[i-1]
    
    total_weight = sum(weights[i] for i in items_taken)
    
    return dp[n][W], items_taken, total_weight, dp

# Data barang
barang = ["Laptop", "Tablet", "Smartphone", "Kamera", "Headphone", 
          "Powerbank", "Drone", "Smartwatch", "Speaker", "Harddisk"]
berat = [3, 2, 1, 4, 1, 2, 5, 1, 3, 2]
nilai = [300, 200, 150, 400, 100, 80, 500, 120, 180, 150]
kapasitas = 8
n = len(barang)

# Eksekusi algoritma
max_value, items_taken, total_berat, dp_table = knapsack_01(kapasitas, berat, nilai, n)

# Output hasil
print("=== HASIL KNAPSACK 0/1 ===\n")
print(f"Kapasitas knapsack: {kapasitas} kg")
print(f"Nilai maksimum yang didapat: Rp {max_value}")
print(f"Total berat barang yang diambil: {total_berat} kg")
print("\nBarang yang diambil:")
for idx in items_taken:
    print(f"  - {barang[idx]} (Berat: {berat[idx]} kg, Nilai: Rp {nilai[idx]})")

# Tampilkan tabel DP
print("\n=== TABEL DYNAMIC PROGRAMMING ===")
print("Baris: Barang, Kolom: Kapasitas (0-8 kg)")
print("\n" + "="*50)
print(f"{'Barang/Kap':<10}", end="")
for w in range(kapasitas + 1):
    print(f"{w:>4}", end="")
print()

for i in range(n + 1):
    if i == 0:
        print(f"{'0':<10}", end="")
    else:
        print(f"{barang[i-1]:<10}", end="")
    
    for w in range(kapasitas + 1):
        print(f"{dp_table[i][w]:>4}", end="")
    print()
